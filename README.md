# CUPED-анализ в A/B-тестировании

## Описание проекта
Команда монетизации автоклассифайда тестирует новую систему цен на небольшой и относительно пассивной аудитории. Основная метрика анализа - **ARPPU (Average Revenue Per Paying User)**.  

Цели проекта:  
1. Провести первичный анализ данных.  
2. Найти наблюдаемый эффект между группами.  
3. Проверить статистическую значимость изменений:  
   - с помощью классического **t-теста**  
   - с помощью метода **CUPED t-test**  
4. Рассчитать необходимый размер выборки для CUPED-теста.  

---

## Описание данных
Данные содержат поюзерные значения ARPPU:  

- **`pre_ARPPU`** — ARPPU до теста (pre-period)  
- **`post_ARPU`** — ARPU после теста (post-period)  

Эти данные позволяют применить CUPED для снижения дисперсии метрики и повышения чувствительности теста.  

---

## Методология
1. **Первичный анализ**  
   - Распределение метрик до и после теста  
   - Проверка корректности данных  

2. **Базовый t-test**  
   - Сравнение контрольной и тестовой групп  
   - Проверка гипотезы о равенстве средних  

3. **CUPED t-test**  
   - Применение метода **CUPED (Controlled-experiment Using Pre-Experiment Data)**  
   - Использование `pre_ARPPU` для снижения дисперсии  
   - Сравнение результатов с простым t-тестом  

4. **Расчёт размера выборки**  
   - Определение необходимого N для достижения заданной мощности теста при использовании CUPED  

---

## Анализ
- Базовый **t-test** показал ограниченную чувствительность из-за небольшой и пассивной аудитории.  
- CUPED-тест существенно снизил дисперсию, что позволило более точно оценить эффект.  
- Требуемый размер выборки при использовании CUPED оказался значительно меньше, чем для классического t-теста.  

---

## Выводы
- CUPED позволяет повысить чувствительность A/B-теста и сократить требования к размеру выборки.  
- Для текущего кейса CUPED дал возможность обнаружить эффект, который был незначимым в обычном t-тесте.  

---
